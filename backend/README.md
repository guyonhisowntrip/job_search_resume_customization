# Backend (FastAPI)

Resume Portfolio API service.

## Requirements
- Python 3.10+ (recommended)
- MySQL database (local or remote)

## Setup
1. Create a virtual environment and install dependencies:

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

2. Configure environment variables (create `.env` in `backend/`). Gemini is supported via the `LLM_*` settings:

```env
APP_NAME=resume-portfolio-backend
DATABASE_URL=mysql+mysqlconnector://user:password@localhost:3306/resume_portfolio
LLM_API_KEY=
LLM_API_URL=https://generativelanguage.googleapis.com/v1beta/models
LLM_MODEL=gemini-1.5-flash
PUBLIC_BASE_URL=https://myplatform.com
```

3. Initialize the database using `schema.sql`.

## Run
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

## API
- Base path: `/api`
- Health: use the autogenerated docs at `/docs` and `/redoc`

## Notes
- The default CORS policy allows all origins. Lock this down in production.

## Troubleshooting
- Error `1045 (28000): Access denied for user ...` means `DATABASE_URL` credentials are invalid.
- Verify MySQL user/password and database name, then update `backend/.env`.
- Example local setup:

```sql
CREATE DATABASE resume_portfolio;
CREATE USER 'resume_user'@'localhost' IDENTIFIED BY 'strong_password';
GRANT ALL PRIVILEGES ON resume_portfolio.* TO 'resume_user'@'localhost';
FLUSH PRIVILEGES;
```

```env
DATABASE_URL=mysql+mysqlconnector://resume_user:strong_password@localhost:3306/resume_portfolio
```
